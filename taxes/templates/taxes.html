{% extends 'site/dashboard.html' %}
{% load humanize %}

{# TODO: add to dashboard.html #}
{% block stylesheets %}
  {{ block.super }}
  {% include 'components/bokeh/css.html' %}
{% endblock %}

{% block dashboard-title %}Taxes{% endblock %}

{% block dashboard-content %}

  <div class="row">
    <div class="col">
      <div class="figure">
        {{ bokeh.div|safe }}
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-sm">
      <table class="table table-hover">
        <thead class="thead-light">
          <tr>
            <th scope="col" class="text-center">Year</th>
            <th scope="col" class="text-right">Income</th>
            <th scope="col" class="text-right">AGI</th>
            <th scope="col" class="text-right">Federal Taxes</th>
            <th scope="col" class="text-right">Local Taxes</th>
          </tr>
        </thead>
        <tbody>
        {% for r in tax_returns %}
        <tr>
          <td class="text-center">{{ r.year }}</td>
          <td class="text-right">${{ r.income|intcomma }}</td>
          <td class="text-right">${{ r.agi|intcomma }}</td>
          <td class="text-right">${{ r.federal_tax|intcomma }}</td>
          <td class="text-right">${{ r.local_tax|intcomma }}</td>
        </tr>
        {% empty %}
        <tr class="text-center table-info">
          <td colspan="5">No Tax Returns Entered!</td>
        </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}

{# TODO: add to dashboard.html #}
{% block javascripts %}
  {{ block.super }}
  {% include 'components/bokeh/js.html' %}
  {{ bokeh.script|safe }}
{% endblock %}
